#include <iostream>
#include <string>
#include <cstring>
#include <vector>
#define MAX 10

using namespace std;

//_________________VETORES
string login[MAX] = {"..", "...", ".", "...."};
string senha[MAX] = {"..", "...", ".", "...."};
char lvl[MAX] = {'S', 'A', 'C', 'D'};
string nome[MAX] = {"mel", "Joana", "ceci", "gi"};
string procura;

//____________VARIAVEL
string var_login;
string var_senha;
char var_nivel;
string var_nome;

//_______INDEX________
int lv_count = 0;

//__________________________FUNÇÃO PARA ADICIONAR NO VETOR__________
int count_elm () {
	
	for (int i=0; i<MAX; i++) {
		
		if (login[i] != "") {
			
			lv_count++;
			
		}
		
	}
	return lv_count;
	
}

//________________________________________________________________
char acess () {
	
	int erro = 3;
	
	bool vrf = false;
	
	while (!vrf) {
		
		// _______________ENTRADA_______________
		cout << " " << endl;
		cout << "Escreva seu login" << endl;
		cin >> var_login;
		
		cout << "Escreva sua senha" << endl;
		cin >> var_senha;
		
		//__________ADICIONAR MAIS UM ESPAÇO NO VETOR
	    count_elm();
		
		
		//_______________________VERIFICAÇÂO_________			
		for (int i=0; i<=lv_count + 1; i++) {
			
		if (var_login == login[i] && var_senha == senha[i]) {
						
			var_nivel = lvl[i];
			
			vrf=true;
			
		} 
		
	    }
	    
	    //______________________ERROS__________
	    if (!vrf) {
	    	
	    
			erro = erro - 1;
			
			cout << "Você tem " << erro << " erros" << endl;
			
			if (erro == 0) {
				
				cout << "Você não é bem-vindo" << endl;
				return 0;
				
			}
		
		}
		  
		  
        // REDEFINIR A VARIAVEL__________
	    lv_count = 0;
	    	
	}
	
	//__________RETORNAR A VARIAVEL QUE GUARDA O NIVEL PARA A VERIFICAÇÃO_______
	return var_nivel;
		
}

//______________________________MENU______________________
void menu_admin () {
		
    cout << "1- Cadastrar admin" << endl;
    cout << "2- Listar cadastros" << endl;
    cout << "3- Editar" << endl;
    cout << "4- Sair" << endl;
}

//_______________________________CADASTRAR_________________
string cadastro () {
	
	cout << "Qual o nivel?" << endl;
	cin >> var_nivel;
	
	cout << "Qual senha?" << endl;
	cin >> var_senha;
	
	cout << "Qual o login?" << endl;
	cin >> var_login;
	
	cout << "Qual o nome?" << endl;
	cin >> var_nome;
	
	//_________________ADICIONAR O ELEMENTO NO VETOR
	count_elm();
	
	       //!! ATENÇÃO AO IMPLEMENTAR OS ESPAÇOS____________
	login[lv_count] = var_login; 
		
	senha[lv_count] = var_senha;
	
    lvl[lv_count] = var_nivel;
    
    nome[lv_count] = var_nome;
    
    //REDEFINIR__________
	lv_count = 0;
	
	//_______RETORNAR!!!!!
    return var_login;
}


//LISTAR_____________________
void listar () {
	
	cout << "---------------LISTANDO-----------------" << endl;
	
	//CHAMAR A FUNÇAO
	count_elm ();
	
	for (int i=0; i<lv_count; i++) {
				
		cout << "----------------------------------" << endl;
		
		cout << "Nome: " << nome[i] << endl;
		cout << "Nivel: " << lvl[i] << endl;
		cout << "Senha: " << senha[i] << endl;
		cout << "login: " << login[i] << endl;
		cout << " " << endl;
		
	}
	
	//REDEFINIR SE NAO DA ERRO
	lv_count = 0;
}

string alterar () {
	
	cout << "Deseja alterar algum cliente?" << endl;
	cin >> procura;
	
	if (procura != "sim") {
		
		cout << "OK! voltando para o menu" << endl;
		cout << "------------------------" << endl;
		cout << " " << endl;
		
	}else {
		
		// CHAMANDO A FUNCAO PARA O VETOR
		count_elm ();
		
		cout << "Quem?" << endl;
		cin >> procura;
		
		// EDITANDO______________________
		for (int a=0; a<lv_count; a++) {
			
			if (procura == nome[a]) {
				
				cout << "Novo nome: ";
				cin >> var_nome;
				nome[a] = var_nome;
				
				cout << "Novo nivel: ";
				cin >> var_nivel;
				lvl[a] = var_nivel;
				
				cout << "Nova senha: ";
				cin >> var_senha;
				senha[a] = var_senha;
				
				cout << "Novo login: ";
				cin >> var_login;
				login[a] = var_login;
				
			}
			
			
		}
		
	}
	
	// REDEFINIR____________________________
	lv_count = 0;
	
	return var_login;
	
}


//----------------------PRINCIPAL____________________________
int main(int argc, char** argv) {

char vrff;

int cursor;

vrff = acess();
	
	//Menu Admin_______________________________
	while (vrff == 'S') {
		
		//FUNCAO DO MENU_______
		menu_admin();
		cin >> cursor;
		cout << " " << endl;
		
		//MENU COM AS FUNÇOES COMEÇA AQUI!!!!!!____________________
		switch (cursor) {
			
			case 1:
				
				cadastro();
			 					 	    
			break;
			
			case 2:
				
				listar ();
				
			break;
			
			case 3:
				
				alterar ();
				
			break;
			
			case 4:
			
				return 0;			
		}
		
   }
	
	//_____________________________________________________
	
	//Menu User
	while (vrff == 'A' || vrff == 'C' || vrff == 'B')	{
		
		cout << "Encaminhando para o menu principal" << endl;
		cout << "Bem-vindo" << endl;
		cin >> cursor;	
    }
	
	//____________________________________________________
	
	//Ex-Admins Acesso
	if (vrff == 'D') {

		cout << "Você não tem autorização para entrar" << endl;
		return 0;
    }
    
	return 0;
}
